{"version":3,"sources":["components/UI/Input/Input.js","components/UI/Input/Input.css","components/Order/CheckoutSammary/CheckoutSammary.css","containers/Checkout/ContactData/ContactData.css","components/Order/CheckoutSammary/CheckoutSammary.js","containers/Checkout/ContactData/ContactData.js","containers/Checkout/Checkout.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Input_css__WEBPACK_IMPORTED_MODULE_1__","_Input_css__WEBPACK_IMPORTED_MODULE_1___default","input","props","inputElement","inputClasses","classes","InputElement","invalid","shouldValidate","tuched","push","Invalid","elementType","a","createElement","Object","assign","className","join","elementConfig","value","onChange","changed","options","map","option","key","displayValue","Input","Lable","label","module","exports","CheckoutSammary","ContactData","checkoutSammary","react_default","style","width","margin","Burger","ingredients","Button","btnType","clicked","checkoutCanceled","checkoutContinued","state","orderForm","name","type","placeholder","validation","required","valid","street","zipcode","isNumeric","minLength","maxLength","country","email","isEmail","deliveryMethod","formIsValid","orderHandler","event","preventDefault","formData","formElementIdentifier","_this","order","ings","price","toFixed","orderData","userId","onOrderBurger","token","inputChangedHandler","inputIdentifier","updatedFormElement","updateObject","target","checkValidity","updatedOrderForm","defineProperty","setState","_this2","this","formElementsArray","id","el","form","onSubmit","elObj","disabled","loading","Spinner","Component","connect","burgerBuilder","totalPrice","auth","dispatch","orderActions","withErrorHandler","axios","CheckOut","checkoutCanceledHandler","history","goBack","checkoutContinuedHandler","replace","summary","react_router","to","purchasedRedirect","purchased","CheckoutSammary_CheckoutSammary","path","match","component"],"mappings":"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","file":"static/js/3.c4d7347e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport classes from './Input.css'\r\n\r\nconst input = (props) => {\r\n    let inputElement = null;\r\n    const inputClasses = [classes.InputElement];\r\n\r\n    if(props.invalid && props.shouldValidate && props.tuched) {\r\n        inputClasses.push(classes.Invalid);\r\n    }\r\n\r\n    switch(props.elementType){\r\n        case ('input'):\r\n            inputElement = <input \r\n                                className={inputClasses.join(' ')} \r\n                                {...props.elementConfig}           //type: 'text' placeholder: 'Your Name'                      \r\n                                value={props.value}\r\n                                onChange={props.changed}/>;\r\n            break;\r\n        case ('textarea'):\r\n            inputElement = <textarea \r\n                                className={inputClasses.join(' ')} \r\n                                {...props.elementConfig} \r\n                                value={props.value}\r\n                                onChange={props.changed}/>;\r\n            break;\r\n        case ('select'):\r\n            inputElement = <select \r\n                                className={inputClasses.join(' ')} \r\n                                value={props.value}\r\n                                onChange={props.changed}>\r\n                                    {props.elementConfig.options.map(option => (\r\n                                        <option \r\n                                            key={option.value}\r\n                                            value={option.value}>{option.displayValue}</option>\r\n                                    ))}                                \r\n                            </select>;\r\n            break;\r\n        default:\r\n            inputElement = <input \r\n                                className={inputClasses.join(' ')} \r\n                                {...props.elementConfig} \r\n                                value={props.value}\r\n                                onChange={props.changed}/>;\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Input}>\r\n            <label className={classes.Lable}>{props.label}</label>\r\n            {inputElement}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default input;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input__Input__1VROp\",\"Lable\":\"Input__Lable__GiTwv\",\"InputElement\":\"Input__InputElement__3TB0k\",\"Invalid\":\"Input__Invalid__38X2d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSammary\":\"CheckoutSammary__CheckoutSammary__3AY6q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData__ContactData__1whvJ\"};","import React from 'react'\r\n\r\nimport Burger from '../../Burger/Burger'\r\nimport Button from '../../UI/Button/Button'\r\nimport classes from './CheckoutSammary.css'\r\n\r\nconst checkoutSammary = (props) => {\r\n    \r\n    return (\r\n        <div className={classes.CheckoutSammary}>\r\n            <h1>We hope it tasts well!</h1>\r\n            <div style={{width: '100%', margin: 'auto'}}>\r\n                <Burger ingredients = {props.ingredients}/>\r\n                <Button \r\n                btnType='Danger'\r\n                clicked={props.checkoutCanceled}>CANCEL</Button>\r\n                <Button \r\n                btnType='Success'\r\n                clicked={props.checkoutContinued}>CONTINUE</Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default checkoutSammary;","import React, { Component } from \"react\";\r\n\r\nimport axios from \"../../../axios-orders\";\r\n\r\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\r\nimport Button from \"../../../components/UI/Button/Button\";\r\nimport classes from \"./ContactData.css\";\r\n\r\nimport Input from \"../../../components/UI/Input/Input\";\r\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport * as orderActions from \"../../../store/actions/index\";\r\nimport { updateObject, checkValidity } from \"../../../shared/utility\";\r\n\r\nclass ContactData extends Component {\r\n  state = {\r\n    orderForm: {\r\n      name: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your Name\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        tuched: false\r\n      },\r\n      street: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your Street\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        tuched: false\r\n      },\r\n      zipcode: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your postal Code\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          isNumeric: true,\r\n          minLength: 5,\r\n          maxLength: 5\r\n        },\r\n        valid: false,\r\n        tuched: false\r\n      },\r\n      country: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Your Country\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true\r\n        },\r\n        valid: false,\r\n        tuched: false\r\n      },\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"Your Email\"\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n          isEmail: true\r\n        },\r\n        valid: false,\r\n        tuched: false\r\n      },\r\n      deliveryMethod: {\r\n        elementType: \"select\",\r\n        elementConfig: {\r\n          options: [\r\n            {\r\n              value: \"fastest\",\r\n              displayValue: \"Fastest\"\r\n            },\r\n            {\r\n              value: \"cheapest\",\r\n              displayValue: \"Cheapest\"\r\n            }\r\n          ]\r\n        },\r\n        validation: {\r\n          required: false\r\n        },\r\n        value: \"fastest\",\r\n        valid: true\r\n      }\r\n    },\r\n    formIsValid: false\r\n    // loading: false\r\n  };\r\n\r\n  orderHandler = event => {\r\n    event.preventDefault();\r\n\r\n    /* this.setState({\r\n      loading: true\r\n    }); */\r\n\r\n    const formData = {};\r\n    for (let formElementIdentifier in this.state.orderForm) {\r\n      formData[formElementIdentifier] = this.state.orderForm[\r\n        formElementIdentifier\r\n      ].value;\r\n    }\r\n\r\n    const order = {\r\n      // ingredients: this.props.ingredients,\r\n      ingredients: this.props.ings,\r\n      // price: this.props.price,\r\n      price: this.props.price.toFixed(2),\r\n      orderData: formData,\r\n      userId: this.props.userId\r\n    };\r\n\r\n    /* axios\r\n      .post(\"/orders.json\", order)\r\n      .then(response => {\r\n        this.setState({\r\n          loading: false\r\n        });\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          loading: false\r\n        });\r\n      }); */\r\n\r\n    this.props.onOrderBurger(order, this.props.token);\r\n  };\r\n\r\n  /* checkValidity = (value, rules) => {\r\n    let isValid = true;\r\n\r\n    if (!rules) {\r\n      return true;\r\n    }\r\n\r\n    if (rules.required) {\r\n      isValid = value.trim() !== \"\" && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n      isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n\r\n    if (rules.maxLength) {\r\n      isValid = value.length <= rules.maxLength && isValid;\r\n    }\r\n\r\n    if (rules.isEmail) {\r\n      const pattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/;\r\n      isValid = pattern.test(value) && isValid;\r\n    }\r\n\r\n    if (rules.isNumeric) {\r\n      const pattern = /^\\d+$/;\r\n      isValid = pattern.test(value) && isValid;\r\n    }\r\n\r\n    return isValid;\r\n  }; */\r\n\r\n  inputChangedHandler = (event, inputIdentifier) => {\r\n    /* const updatedOrderForm = {\r\n      ...this.state.orderForm\r\n    };\r\n\r\n    const updatedFormElement = {\r\n      ...updatedOrderForm[inputIdentifier]\r\n    }; \r\n\r\n    updatedFormElement.value = event.target.value;\r\n    updatedFormElement.valid = this.checkValidity(\r\n      updatedFormElement.value,\r\n      updatedFormElement.validation\r\n    );\r\n    updatedFormElement.tuched = true; \r\n\r\n    updatedOrderForm[inputIdentifier] = updatedFormElement; */\r\n\r\n    const updatedFormElement = updateObject(\r\n      this.state.orderForm[inputIdentifier],\r\n      {\r\n        value: event.target.value,\r\n        valid: checkValidity(\r\n          event.target.value,\r\n          this.state.orderForm[inputIdentifier].validation\r\n        ),\r\n        tuched: true\r\n      }\r\n    );\r\n\r\n    const updatedOrderForm = updateObject(this.state.orderForm, {\r\n      [inputIdentifier]: updatedFormElement\r\n    });\r\n\r\n    let formIsValid = true;\r\n    for (let inputIdentifier in updatedOrderForm) {\r\n      formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\r\n    }\r\n\r\n    this.setState({\r\n      orderForm: updatedOrderForm,\r\n      formIsValid: formIsValid\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let formElementsArray = [];\r\n    for (let key in this.state.orderForm) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        el: this.state.orderForm[key]\r\n      });\r\n    }\r\n\r\n    let form = (\r\n      <form onSubmit={this.orderHandler}>\r\n        {\" \"}\r\n        {formElementsArray.map(elObj => (\r\n          <Input\r\n            key={elObj.id}\r\n            elementType={elObj.el.elementType}\r\n            elementConfig={elObj.el.elementConfig}\r\n            value={elObj.el.value}\r\n            tuched={elObj.el.tuched}\r\n            shouldValidate={elObj.el.validation.required}\r\n            invalid={!elObj.el.valid}\r\n            changed={event => this.inputChangedHandler(event, elObj.id)}\r\n          />\r\n        ))}\r\n        {/* <input type=\"submit\"value=\"SUBMIT\"/> */}\r\n        <Button btnType=\"Success\" disabled={!this.state.formIsValid}>\r\n          {\" \"}\r\n          ORDER\r\n        </Button>\r\n      </form>\r\n    );\r\n\r\n    if (this.props.loading) {\r\n      form = <Spinner />;\r\n    }\r\n\r\n    return (\r\n      <div className={classes.ContactData}>\r\n        <h4>Enter Yor Contact Data</h4>\r\n        {form}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    ings: state.burgerBuilder.ingredients,\r\n    price: state.burgerBuilder.totalPrice,\r\n    loading: state.order.loading,\r\n    token: state.auth.token,\r\n    userId: state.auth.userId\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onOrderBurger: (orderData, token) =>\r\n      dispatch(orderActions.purchaseBurger(orderData, token))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(ContactData, axios));\r\n","import React, { Component } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport CheckoutSammary from \"../../components/Order/CheckoutSammary/CheckoutSammary\";\r\nimport ContactData from \"./ContactData/ContactData\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nclass CheckOut extends Component {\r\n  /* state = {\r\n        ingredients: null,\r\n        totalPrice: 0      \r\n    } */\r\n\r\n  /* componentWillMount() {\r\n        const query = new URLSearchParams(this.props.location.search);\r\n\r\n        const ingredients = {};\r\n\r\n        // for (let param of query.entries()) {\r\n        //     // [\"salad\", 1]\r\n        //     ingredients[param[0]] = +param[1];\r\n        // } \r\n\r\n        let price = 0;\r\n        for (let [key, val] of query.entries()) {\r\n            // [\"salad\", 1]\r\n\r\n            if(key===\"price\"){\r\n                price = val;               \r\n            } else {\r\n               ingredients[key] = +val; // +val для превращения строкового значения в числовое\r\n            }            \r\n        }\r\n\r\n        this.setState({\r\n            ingredients: ingredients,\r\n            totalPrice: price\r\n        })\r\n    } */\r\n\r\n  checkoutCanceledHandler = () => {\r\n    this.props.history.goBack();\r\n  };\r\n\r\n  checkoutContinuedHandler = () => {\r\n    this.props.history.replace(\"/checkout/contact-data\");\r\n  };\r\n\r\n  render() {\r\n    let summary = <Redirect to=\"/\" />;\r\n    if (this.props.ings) {\r\n\r\n      const purchasedRedirect = this.props.purchased ? <Redirect to=\"/\" /> : null;\r\n\r\n      summary = (\r\n        <div>\r\n          {purchasedRedirect}\r\n          <CheckoutSammary\r\n            // ingredients={this.state.ingredients}\r\n            ingredients={this.props.ings}\r\n            checkoutCanceled={this.checkoutCanceledHandler}\r\n            checkoutContinued={this.checkoutContinuedHandler}\r\n          />\r\n\r\n          {/* <Route path= {this.props.match.path + '/contact-data'} component={ContactData}/> */}\r\n          <Route\r\n            path={this.props.match.path + \"/contact-data\"}\r\n            /* render={props => (\r\n            <ContactData\r\n              ingredients={this.state.ingredients}\r\n              price={this.state.totalPrice}\r\n              {...props}\r\n            />\r\n          )} */\r\n            component={ContactData}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n    return summary;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    ings: state.burgerBuilder.ingredients,\r\n    purchased: state.order.purchased\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(CheckOut);\r\n"],"sourceRoot":""}